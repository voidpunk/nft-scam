{"ast":null,"code":"import _regeneratorRuntime from\"/home/nil/GitHub/nft-trials/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/nil/GitHub/nft-trials/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/nil/GitHub/nft-trials/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/nil/GitHub/nft-trials/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useEffect,useState,useRef}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{connect}from\"./redux/blockchain/blockchainActions\";import{fetchData}from\"./redux/data/dataActions\";import*as s from\"./styles/globalStyles\";import styled from\"styled-components\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var truncate=function truncate(input,len){return input.length>len?\"\".concat(input.substring(0,len),\"...\"):input;};export var StyledButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  border-radius: 50px;\\n  border: none;\\n  background: rgb(2,0,36);\\n  background: radial-gradient(\\n    circle,\\n    rgba(2,0,36,1) 0%,\\n    rgba(9,9,121,1) 18%,\\n    rgba(0,212,255,1) 52%,\\n    rgba(137,8,71,1) 88%\\n  );\\n  background: rgb(34,38,42);\\n  background: linear-gradient(\\n    160deg,\\n    rgba(34,38,42,1) 0%,\\n    rgba(64,69,74,1) 45%,\\n    rgba(54,186,144,1) 61%,\\n    rgba(52,180,140,1) 72%,\\n    rgba(16,56,43,1) 100%\\n  );\\n  padding: 10px;\\n  font-weight: bold;\\n  color: white;\\n  width: 30%;\\n  height: 30%;\\n  cursor: pointer;\\n  box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\\n  -webkit-box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\\n  -moz-box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\\n  :active {\\n    box-shadow: none;\\n    -webkit-box-shadow: none;\\n    -moz-box-shadow: none;\\n  }\\n  :hover {\\n    background: radial-gradient(\\n      circle,\\n      rgba(2,0,36,1) 0%,\\n      rgba(9,9,121,1) 18%,\\n      rgba(137,8,71,1) 52%,\\n      rgba(0,212,255,1) 88%\\n    );\\n  }\\n  :hover {\\n    background: linear-gradient(\\n    340deg,\\n    rgba(34,38,42,1) 0%,\\n    rgba(64,69,74,1) 45%,\\n    rgba(54,186,144,1) 61%,\\n    rgba(52,180,140,1) 72%,\\n    rgba(16,56,43,1) 100%\\n    );\\n  }\\n\"])));export var StyledLink=styled.a(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: var(--secondary);\\n  text-decoration: none;\\n\"])));function App(){var dispatch=useDispatch();var blockchain=useSelector(function(state){return state.blockchain;});var data=useSelector(function(state){return state.data;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),claimingNft=_useState2[0],setClaimingNft=_useState2[1];var _useState3=useState(\"Click buy to mint your NFT.\"),_useState4=_slicedToArray(_useState3,2),feedback=_useState4[0],setFeedback=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),mintAmount=_useState6[0],setMintAmount=_useState6[1];var _useState7=useState({CONTRACT_ADDRESS:\"\",SCAN_LINK:\"\",NETWORK:{NAME:\"\",SYMBOL:\"\",ID:0},NFT_NAME:\"\",SYMBOL:\"\",MAX_SUPPLY:1,WEI_COST:0,DISPLAY_COST:0,GAS_LIMIT:0,MARKETPLACE:\"\",MARKETPLACE_LINK:\"\",SHOW_BACKGROUND:false}),_useState8=_slicedToArray(_useState7,2),CONFIG=_useState8[0],SET_CONFIG=_useState8[1];var claimNFTs=function claimNFTs(){var cost=CONFIG.WEI_COST;var gasLimit=CONFIG.GAS_LIMIT;var totalCostWei=String(cost*mintAmount);var totalGasLimit=String(gasLimit*mintAmount);console.log(\"Cost: \",totalCostWei);console.log(\"Gas limit: \",totalGasLimit);setFeedback(\"Minting your \".concat(CONFIG.NFT_NAME,\"...\"));setClaimingNft(true);blockchain.smartContract.methods.mint(mintAmount).send({gasLimit:String(totalGasLimit),to:CONFIG.CONTRACT_ADDRESS,from:blockchain.account,value:totalCostWei}).once(\"error\",function(err){console.log(err);setFeedback(\"Sorry, something went wrong please try again later.\");setClaimingNft(false);}).then(function(receipt){console.log(receipt);setFeedback(\"WOW, the \".concat(CONFIG.NFT_NAME,\" is yours! go visit Opensea.io to view it.\"));setClaimingNft(false);dispatch(fetchData(blockchain.account));});};var decrementMintAmount=function decrementMintAmount(){var newMintAmount=mintAmount-1;if(newMintAmount<1){newMintAmount=1;}setMintAmount(newMintAmount);};var incrementMintAmount=function incrementMintAmount(){var newMintAmount=mintAmount+1;if(newMintAmount>10){newMintAmount=10;}setMintAmount(newMintAmount);};var getData=function getData(){if(blockchain.account!==\"\"&&blockchain.smartContract!==null){dispatch(fetchData(blockchain.account));}};var getConfig=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var configResponse,config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/config/config.json\",{headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}});case 2:configResponse=_context.sent;_context.next=5;return configResponse.json();case 5:config=_context.sent;SET_CONFIG(config);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getConfig(){return _ref.apply(this,arguments);};}();useEffect(function(){getConfig();},[]);useEffect(function(){getData();},[blockchain.account]);return/*#__PURE__*/_jsx(\"div\",{style:{// backgroundColor: 'var(--primary)',\nborderRadius:24},children:/*#__PURE__*/_jsxs(s.Container,{flex:2,jc:\"center\",ai:\"center\",style:{backgroundColor:\"var(--secondary)\",padding:24,borderRadius:24,boxShadow:\"0px 5px 11px 2px rgba(0,0,0,0.7)\"},children:[/*#__PURE__*/_jsxs(s.TextTitle,{style:{textAlign:\"center\",fontSize:50,fontWeight:\"bold\",color:\"var(--secondary-text)\"},children:[data.totalSupply,\" / \",CONFIG.MAX_SUPPLY]}),/*#__PURE__*/_jsx(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:/*#__PURE__*/_jsx(StyledLink,{target:\"_blank\",href:CONFIG.SCAN_LINK,style:{color:\"var(--accent-text)\"},children:truncate(CONFIG.CONTRACT_ADDRESS,15)})}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),Number(data.totalSupply)>=CONFIG.MAX_SUPPLY?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(s.TextTitle,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:\"The sale has ended.\"}),/*#__PURE__*/_jsxs(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:[\"You can still find \",CONFIG.NFT_NAME,\" on\"]}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(StyledLink,{target:\"_blank\",href:CONFIG.MARKETPLACE_LINK,children:CONFIG.MARKETPLACE})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(s.TextTitle,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:[\"1 \",CONFIG.SYMBOL,\" costs \",CONFIG.DISPLAY_COST,\" \",CONFIG.NETWORK.SYMBOL,\".\"]}),/*#__PURE__*/_jsx(s.SpacerXSmall,{}),/*#__PURE__*/_jsx(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:\"Excluding gas fees.\"}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),blockchain.account===\"\"||blockchain.smartContract===null?/*#__PURE__*/_jsxs(s.Container,{ai:\"center\",jc:\"center\",children:[/*#__PURE__*/_jsxs(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:[\"Connect to the \",CONFIG.NETWORK.NAME,\" network\"]}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(\"div\",{id:\"metamask-animation\"}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(StyledButton,{onClick:function onClick(e){e.preventDefault();dispatch(connect());getData();},children:\"CONNECT\"}),blockchain.errorMsg!==\"\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:blockchain.errorMsg})]}):null]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:feedback}),/*#__PURE__*/_jsx(s.SpacerMedium,{}),/*#__PURE__*/_jsxs(s.Container,{ai:\"center\",jc:\"center\",fd:\"row\",children:[/*#__PURE__*/_jsx(StyledRoundButton,{style:{lineHeight:0.4},disabled:claimingNft?1:0,onClick:function onClick(e){e.preventDefault();decrementMintAmount();},children:\"-\"}),/*#__PURE__*/_jsx(s.SpacerMedium,{}),/*#__PURE__*/_jsx(s.TextDescription,{style:{textAlign:\"center\",color:\"var(--secondary-text)\"},children:mintAmount}),/*#__PURE__*/_jsx(s.SpacerMedium,{}),/*#__PURE__*/_jsx(StyledRoundButton,{disabled:claimingNft?1:0,onClick:function onClick(e){e.preventDefault();incrementMintAmount();},children:\"+\"})]}),/*#__PURE__*/_jsx(s.SpacerSmall,{}),/*#__PURE__*/_jsx(s.Container,{ai:\"center\",jc:\"center\",fd:\"row\",children:/*#__PURE__*/_jsx(StyledButton,{disabled:claimingNft?1:0,onClick:function onClick(e){e.preventDefault();claimNFTs();getData();},children:claimingNft?\"BUSY\":\"BUY\"})})]})]}),/*#__PURE__*/_jsx(s.SpacerMedium,{})]})});}export default App;","map":{"version":3,"sources":["/home/nil/GitHub/nft-trials/app/src/App.js"],"names":["React","useEffect","useState","useRef","useDispatch","useSelector","connect","fetchData","s","styled","truncate","input","len","length","substring","StyledButton","button","StyledLink","a","App","dispatch","blockchain","state","data","claimingNft","setClaimingNft","feedback","setFeedback","mintAmount","setMintAmount","CONTRACT_ADDRESS","SCAN_LINK","NETWORK","NAME","SYMBOL","ID","NFT_NAME","MAX_SUPPLY","WEI_COST","DISPLAY_COST","GAS_LIMIT","MARKETPLACE","MARKETPLACE_LINK","SHOW_BACKGROUND","CONFIG","SET_CONFIG","claimNFTs","cost","gasLimit","totalCostWei","String","totalGasLimit","console","log","smartContract","methods","mint","send","to","from","account","value","once","err","then","receipt","decrementMintAmount","newMintAmount","incrementMintAmount","getData","getConfig","fetch","headers","Accept","configResponse","json","config","borderRadius","backgroundColor","padding","boxShadow","textAlign","fontSize","fontWeight","color","totalSupply","Number","e","preventDefault","errorMsg","lineHeight"],"mappings":"0oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,sCAAxB,CACA,OAASC,SAAT,KAA0B,0BAA1B,CACA,MAAO,GAAKC,CAAAA,CAAZ,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,GAAR,QACfD,CAAAA,KAAK,CAACE,MAAN,CAAeD,GAAf,WAAwBD,KAAK,CAACG,SAAN,CAAgB,CAAhB,CAAmBF,GAAnB,CAAxB,QAAuDD,KADxC,EAAjB,CAGA,MAAO,IAAMI,CAAAA,YAAY,CAAGN,MAAM,CAACO,MAAV,uyCAAlB,CAwDP,MAAO,IAAMC,CAAAA,UAAU,CAAGR,MAAM,CAACS,CAAV,2HAAhB,CAKP,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,CAAAA,UAAU,CAAGhB,WAAW,CAAC,SAACiB,KAAD,QAAWA,CAAAA,KAAK,CAACD,UAAjB,EAAD,CAA9B,CACA,GAAME,CAAAA,IAAI,CAAGlB,WAAW,CAAC,SAACiB,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAAxB,CACA,cAAsCrB,QAAQ,CAAC,KAAD,CAA9C,wCAAOsB,WAAP,eAAoBC,cAApB,eACA,eAAgCvB,QAAQ,+BAAxC,yCAAOwB,QAAP,eAAiBC,WAAjB,eACA,eAAoCzB,QAAQ,CAAC,CAAD,CAA5C,yCAAO0B,UAAP,eAAmBC,aAAnB,eACA,eAA6B3B,QAAQ,CAAC,CACpC4B,gBAAgB,CAAE,EADkB,CAEpCC,SAAS,CAAE,EAFyB,CAGpCC,OAAO,CAAE,CACPC,IAAI,CAAE,EADC,CAEPC,MAAM,CAAE,EAFD,CAGPC,EAAE,CAAE,CAHG,CAH2B,CAQpCC,QAAQ,CAAE,EAR0B,CASpCF,MAAM,CAAE,EAT4B,CAUpCG,UAAU,CAAE,CAVwB,CAWpCC,QAAQ,CAAE,CAX0B,CAYpCC,YAAY,CAAE,CAZsB,CAapCC,SAAS,CAAE,CAbyB,CAcpCC,WAAW,CAAE,EAduB,CAepCC,gBAAgB,CAAE,EAfkB,CAgBpCC,eAAe,CAAE,KAhBmB,CAAD,CAArC,yCAAOC,MAAP,eAAeC,UAAf,eAmBA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIC,CAAAA,IAAI,CAAGH,MAAM,CAACN,QAAlB,CACA,GAAIU,CAAAA,QAAQ,CAAGJ,MAAM,CAACJ,SAAtB,CACA,GAAIS,CAAAA,YAAY,CAAGC,MAAM,CAACH,IAAI,CAAGnB,UAAR,CAAzB,CACA,GAAIuB,CAAAA,aAAa,CAAGD,MAAM,CAACF,QAAQ,CAAGpB,UAAZ,CAA1B,CACAwB,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBJ,YAAtB,EACAG,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BF,aAA3B,EACAxB,WAAW,wBAAiBiB,MAAM,CAACR,QAAxB,QAAX,CACAX,cAAc,CAAC,IAAD,CAAd,CACAJ,UAAU,CAACiC,aAAX,CAAyBC,OAAzB,CACGC,IADH,CACQ5B,UADR,EAEG6B,IAFH,CAEQ,CACJT,QAAQ,CAAEE,MAAM,CAACC,aAAD,CADZ,CAEJO,EAAE,CAAEd,MAAM,CAACd,gBAFP,CAGJ6B,IAAI,CAAEtC,UAAU,CAACuC,OAHb,CAIJC,KAAK,CAAEZ,YAJH,CAFR,EAQGa,IARH,CAQQ,OARR,CAQiB,SAACC,GAAD,CAAS,CACtBX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACApC,WAAW,CAAC,qDAAD,CAAX,CACAF,cAAc,CAAC,KAAD,CAAd,CACD,CAZH,EAaGuC,IAbH,CAaQ,SAACC,OAAD,CAAa,CACjBb,OAAO,CAACC,GAAR,CAAYY,OAAZ,EACAtC,WAAW,oBACGiB,MAAM,CAACR,QADV,+CAAX,CAGAX,cAAc,CAAC,KAAD,CAAd,CACAL,QAAQ,CAACb,SAAS,CAACc,UAAU,CAACuC,OAAZ,CAAV,CAAR,CACD,CApBH,EAqBD,CA9BD,CAgCA,GAAMM,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,GAAIC,CAAAA,aAAa,CAAGvC,UAAU,CAAG,CAAjC,CACA,GAAIuC,aAAa,CAAG,CAApB,CAAuB,CACrBA,aAAa,CAAG,CAAhB,CACD,CACDtC,aAAa,CAACsC,aAAD,CAAb,CACD,CAND,CAQA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChC,GAAID,CAAAA,aAAa,CAAGvC,UAAU,CAAG,CAAjC,CACA,GAAIuC,aAAa,CAAG,EAApB,CAAwB,CACtBA,aAAa,CAAG,EAAhB,CACD,CACDtC,aAAa,CAACsC,aAAD,CAAb,CACD,CAND,CAQA,GAAME,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAIhD,UAAU,CAACuC,OAAX,GAAuB,EAAvB,EAA6BvC,UAAU,CAACiC,aAAX,GAA6B,IAA9D,CAAoE,CAClElC,QAAQ,CAACb,SAAS,CAACc,UAAU,CAACuC,OAAZ,CAAV,CAAR,CACD,CACF,CAJD,CAMA,GAAMU,CAAAA,SAAS,0FAAG,mLACaC,CAAAA,KAAK,CAAC,qBAAD,CAAwB,CACxDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAD+C,CAAxB,CADlB,QACVC,cADU,qCAOKA,CAAAA,cAAc,CAACC,IAAf,EAPL,QAOVC,MAPU,eAQhB/B,UAAU,CAAC+B,MAAD,CAAV,CARgB,sDAAH,kBAATN,CAAAA,SAAS,0CAAf,CAWArE,SAAS,CAAC,UAAM,CACdqE,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAIArE,SAAS,CAAC,UAAM,CACdoE,OAAO,GACR,CAFQ,CAEN,CAAChD,UAAU,CAACuC,OAAZ,CAFM,CAAT,CAIA,mBACE,YAAK,KAAK,CAAE,CACV;AACAiB,YAAY,CAAE,EAFJ,CAAZ,uBAIE,MAAC,CAAD,CAAG,SAAH,EACE,IAAI,CAAE,CADR,CAEE,EAAE,CAAE,QAFN,CAGE,EAAE,CAAE,QAHN,CAIE,KAAK,CAAE,CACLC,eAAe,CAAE,kBADZ,CAELC,OAAO,CAAE,EAFJ,CAGLF,YAAY,CAAE,EAHT,CAILG,SAAS,CAAE,kCAJN,CAJT,wBAWE,MAAC,CAAD,CAAG,SAAH,EACE,KAAK,CAAE,CACLC,SAAS,CAAE,QADN,CAELC,QAAQ,CAAE,EAFL,CAGLC,UAAU,CAAE,MAHP,CAILC,KAAK,CAAE,uBAJF,CADT,WAQG7D,IAAI,CAAC8D,WARR,OAQwBzC,MAAM,CAACP,UAR/B,GAXF,cAqBE,KAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CACL4C,SAAS,CAAE,QADN,CAELG,KAAK,CAAE,uBAFF,CADT,uBAME,KAAC,UAAD,EAAY,MAAM,CAAE,QAApB,CAA8B,IAAI,CAAExC,MAAM,CAACb,SAA3C,CAAsD,KAAK,CAAE,CAACqD,KAAK,CAAE,oBAAR,CAA7D,UACG1E,QAAQ,CAACkC,MAAM,CAACd,gBAAR,CAA0B,EAA1B,CADX,EANF,EArBF,cA+BE,KAAC,CAAD,CAAG,WAAH,IA/BF,CAgCGwD,MAAM,CAAC/D,IAAI,CAAC8D,WAAN,CAAN,EAA4BzC,MAAM,CAACP,UAAnC,cACC,wCACE,KAAC,CAAD,CAAG,SAAH,EACE,KAAK,CAAE,CAAE4C,SAAS,CAAE,QAAb,CAAuBG,KAAK,CAAE,uBAA9B,CADT,iCADF,cAME,MAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CAAEH,SAAS,CAAE,QAAb,CAAuBG,KAAK,CAAE,uBAA9B,CADT,iCAGsBxC,MAAM,CAACR,QAH7B,SANF,cAWE,KAAC,CAAD,CAAG,WAAH,IAXF,cAYE,KAAC,UAAD,EAAY,MAAM,CAAE,QAApB,CAA8B,IAAI,CAAEQ,MAAM,CAACF,gBAA3C,UACGE,MAAM,CAACH,WADV,EAZF,GADD,cAkBC,wCACE,MAAC,CAAD,CAAG,SAAH,EACE,KAAK,CAAE,CAAEwC,SAAS,CAAE,QAAb,CAAuBG,KAAK,CAAE,uBAA9B,CADT,gBAGKxC,MAAM,CAACV,MAHZ,WAG2BU,MAAM,CAACL,YAHlC,CAGgD,GAHhD,CAIGK,MAAM,CAACZ,OAAP,CAAeE,MAJlB,OADF,cAOE,KAAC,CAAD,CAAG,YAAH,IAPF,cAQE,KAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CAAE+C,SAAS,CAAE,QAAb,CAAuBG,KAAK,CAAE,uBAA9B,CADT,iCARF,cAaE,KAAC,CAAD,CAAG,WAAH,IAbF,CAcG/D,UAAU,CAACuC,OAAX,GAAuB,EAAvB,EACDvC,UAAU,CAACiC,aAAX,GAA6B,IAD5B,cAEC,MAAC,CAAD,CAAG,SAAH,EAAa,EAAE,CAAE,QAAjB,CAA2B,EAAE,CAAE,QAA/B,wBACE,MAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CACL2B,SAAS,CAAE,QADN,CAELG,KAAK,CAAE,uBAFF,CADT,6BAMkBxC,MAAM,CAACZ,OAAP,CAAeC,IANjC,cADF,cASE,KAAC,CAAD,CAAG,WAAH,IATF,cAUE,YAAK,EAAE,CAAE,oBAAT,EAVF,cAWE,KAAC,CAAD,CAAG,WAAH,IAXF,cAYE,KAAC,YAAD,EACE,OAAO,CAAE,iBAACsD,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACApE,QAAQ,CAACd,OAAO,EAAR,CAAR,CACA+D,OAAO,GACR,CALH,qBAZF,CAqBGhD,UAAU,CAACoE,QAAX,GAAwB,EAAxB,cACC,wCACE,KAAC,CAAD,CAAG,WAAH,IADF,cAEE,KAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CACLR,SAAS,CAAE,QADN,CAELG,KAAK,CAAE,uBAFF,CADT,UAMG/D,UAAU,CAACoE,QANd,EAFF,GADD,CAYG,IAjCN,GAFD,cAsCC,wCACE,KAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CACLR,SAAS,CAAE,QADN,CAELG,KAAK,CAAE,uBAFF,CADT,UAMG1D,QANH,EADF,cASE,KAAC,CAAD,CAAG,YAAH,IATF,cAUE,MAAC,CAAD,CAAG,SAAH,EAAa,EAAE,CAAE,QAAjB,CAA2B,EAAE,CAAE,QAA/B,CAAyC,EAAE,CAAE,KAA7C,wBACE,KAAC,iBAAD,EACE,KAAK,CAAE,CAAEgE,UAAU,CAAE,GAAd,CADT,CAEE,QAAQ,CAAElE,WAAW,CAAG,CAAH,CAAO,CAF9B,CAGE,OAAO,CAAE,iBAAC+D,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACAtB,mBAAmB,GACpB,CANH,eADF,cAWE,KAAC,CAAD,CAAG,YAAH,IAXF,cAYE,KAAC,CAAD,CAAG,eAAH,EACE,KAAK,CAAE,CACLe,SAAS,CAAE,QADN,CAELG,KAAK,CAAE,uBAFF,CADT,UAMGxD,UANH,EAZF,cAoBE,KAAC,CAAD,CAAG,YAAH,IApBF,cAqBE,KAAC,iBAAD,EACE,QAAQ,CAAEJ,WAAW,CAAG,CAAH,CAAO,CAD9B,CAEE,OAAO,CAAE,iBAAC+D,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACApB,mBAAmB,GACpB,CALH,eArBF,GAVF,cAyCE,KAAC,CAAD,CAAG,WAAH,IAzCF,cA0CE,KAAC,CAAD,CAAG,SAAH,EAAa,EAAE,CAAE,QAAjB,CAA2B,EAAE,CAAE,QAA/B,CAAyC,EAAE,CAAE,KAA7C,uBACE,KAAC,YAAD,EACE,QAAQ,CAAE5C,WAAW,CAAG,CAAH,CAAO,CAD9B,CAEE,OAAO,CAAE,iBAAC+D,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACA1C,SAAS,GACTuB,OAAO,GACR,CANH,UAQG7C,WAAW,CAAG,MAAH,CAAY,KAR1B,EADF,EA1CF,GApDJ,GAlDJ,cAgKE,KAAC,CAAD,CAAG,YAAH,IAhKF,GAJF,EADF,CAyKD,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { connect } from \"./redux/blockchain/blockchainActions\";\nimport { fetchData } from \"./redux/data/dataActions\";\nimport * as s from \"./styles/globalStyles\";\nimport styled from \"styled-components\";\n\nconst truncate = (input, len) =>\n  input.length > len ? `${input.substring(0, len)}...` : input;\n\nexport const StyledButton = styled.button`\n  padding: 10px;\n  border-radius: 50px;\n  border: none;\n  background: rgb(2,0,36);\n  background: radial-gradient(\n    circle,\n    rgba(2,0,36,1) 0%,\n    rgba(9,9,121,1) 18%,\n    rgba(0,212,255,1) 52%,\n    rgba(137,8,71,1) 88%\n  );\n  background: rgb(34,38,42);\n  background: linear-gradient(\n    160deg,\n    rgba(34,38,42,1) 0%,\n    rgba(64,69,74,1) 45%,\n    rgba(54,186,144,1) 61%,\n    rgba(52,180,140,1) 72%,\n    rgba(16,56,43,1) 100%\n  );\n  padding: 10px;\n  font-weight: bold;\n  color: white;\n  width: 30%;\n  height: 30%;\n  cursor: pointer;\n  box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\n  -webkit-box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\n  -moz-box-shadow: 0px 6px 0px -2px rgba(250, 250, 250, 0.3);\n  :active {\n    box-shadow: none;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n  }\n  :hover {\n    background: radial-gradient(\n      circle,\n      rgba(2,0,36,1) 0%,\n      rgba(9,9,121,1) 18%,\n      rgba(137,8,71,1) 52%,\n      rgba(0,212,255,1) 88%\n    );\n  }\n  :hover {\n    background: linear-gradient(\n    340deg,\n    rgba(34,38,42,1) 0%,\n    rgba(64,69,74,1) 45%,\n    rgba(54,186,144,1) 61%,\n    rgba(52,180,140,1) 72%,\n    rgba(16,56,43,1) 100%\n    );\n  }\n`;\n\nexport const StyledLink = styled.a`\n  color: var(--secondary);\n  text-decoration: none;\n`;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const blockchain = useSelector((state) => state.blockchain);\n  const data = useSelector((state) => state.data);\n  const [claimingNft, setClaimingNft] = useState(false);\n  const [feedback, setFeedback] = useState(`Click buy to mint your NFT.`);\n  const [mintAmount, setMintAmount] = useState(1);\n  const [CONFIG, SET_CONFIG] = useState({\n    CONTRACT_ADDRESS: \"\",\n    SCAN_LINK: \"\",\n    NETWORK: {\n      NAME: \"\",\n      SYMBOL: \"\",\n      ID: 0,\n    },\n    NFT_NAME: \"\",\n    SYMBOL: \"\",\n    MAX_SUPPLY: 1,\n    WEI_COST: 0,\n    DISPLAY_COST: 0,\n    GAS_LIMIT: 0,\n    MARKETPLACE: \"\",\n    MARKETPLACE_LINK: \"\",\n    SHOW_BACKGROUND: false,\n  });\n\n  const claimNFTs = () => {\n    let cost = CONFIG.WEI_COST;\n    let gasLimit = CONFIG.GAS_LIMIT;\n    let totalCostWei = String(cost * mintAmount);\n    let totalGasLimit = String(gasLimit * mintAmount);\n    console.log(\"Cost: \", totalCostWei);\n    console.log(\"Gas limit: \", totalGasLimit);\n    setFeedback(`Minting your ${CONFIG.NFT_NAME}...`);\n    setClaimingNft(true);\n    blockchain.smartContract.methods\n      .mint(mintAmount)\n      .send({\n        gasLimit: String(totalGasLimit),\n        to: CONFIG.CONTRACT_ADDRESS,\n        from: blockchain.account,\n        value: totalCostWei,\n      })\n      .once(\"error\", (err) => {\n        console.log(err);\n        setFeedback(\"Sorry, something went wrong please try again later.\");\n        setClaimingNft(false);\n      })\n      .then((receipt) => {\n        console.log(receipt);\n        setFeedback(\n          `WOW, the ${CONFIG.NFT_NAME} is yours! go visit Opensea.io to view it.`\n        );\n        setClaimingNft(false);\n        dispatch(fetchData(blockchain.account));\n      });\n  };\n\n  const decrementMintAmount = () => {\n    let newMintAmount = mintAmount - 1;\n    if (newMintAmount < 1) {\n      newMintAmount = 1;\n    }\n    setMintAmount(newMintAmount);\n  };\n\n  const incrementMintAmount = () => {\n    let newMintAmount = mintAmount + 1;\n    if (newMintAmount > 10) {\n      newMintAmount = 10;\n    }\n    setMintAmount(newMintAmount);\n  };\n\n  const getData = () => {\n    if (blockchain.account !== \"\" && blockchain.smartContract !== null) {\n      dispatch(fetchData(blockchain.account));\n    }\n  };\n\n  const getConfig = async () => {\n    const configResponse = await fetch(\"/config/config.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    });\n    const config = await configResponse.json();\n    SET_CONFIG(config);\n  };\n\n  useEffect(() => {\n    getConfig();\n  }, []);\n\n  useEffect(() => {\n    getData();\n  }, [blockchain.account]);\n\n  return (\n    <div style={{\n      // backgroundColor: 'var(--primary)',\n      borderRadius: 24\n    }}>\n      <s.Container\n        flex={2}\n        jc={\"center\"}\n        ai={\"center\"}\n        style={{\n          backgroundColor: \"var(--secondary)\",\n          padding: 24,\n          borderRadius: 24,\n          boxShadow: \"0px 5px 11px 2px rgba(0,0,0,0.7)\",\n        }}\n      >\n        <s.TextTitle\n          style={{\n            textAlign: \"center\",\n            fontSize: 50,\n            fontWeight: \"bold\",\n            color: \"var(--secondary-text)\",\n          }}\n        >\n          {data.totalSupply} / {CONFIG.MAX_SUPPLY}\n        </s.TextTitle>\n        <s.TextDescription\n          style={{\n            textAlign: \"center\",\n            color: \"var(--secondary-text)\",\n          }}\n        >\n          <StyledLink target={\"_blank\"} href={CONFIG.SCAN_LINK} style={{color: \"var(--accent-text)\"}}>\n            {truncate(CONFIG.CONTRACT_ADDRESS, 15)}\n          </StyledLink>\n        </s.TextDescription>\n        <s.SpacerSmall />\n        {Number(data.totalSupply) >= CONFIG.MAX_SUPPLY ? (\n          <>\n            <s.TextTitle\n              style={{ textAlign: \"center\", color: \"var(--secondary-text)\" }}\n            >\n              The sale has ended.\n            </s.TextTitle>\n            <s.TextDescription\n              style={{ textAlign: \"center\", color: \"var(--secondary-text)\" }}\n            >\n              You can still find {CONFIG.NFT_NAME} on\n            </s.TextDescription>\n            <s.SpacerSmall />\n            <StyledLink target={\"_blank\"} href={CONFIG.MARKETPLACE_LINK}>\n              {CONFIG.MARKETPLACE}\n            </StyledLink>\n          </>\n        ) : (\n          <>\n            <s.TextTitle\n              style={{ textAlign: \"center\", color: \"var(--secondary-text)\" }}\n            >\n              1 {CONFIG.SYMBOL} costs {CONFIG.DISPLAY_COST}{\" \"}\n              {CONFIG.NETWORK.SYMBOL}.\n            </s.TextTitle>\n            <s.SpacerXSmall />\n            <s.TextDescription\n              style={{ textAlign: \"center\", color: \"var(--secondary-text)\" }}\n            >\n              Excluding gas fees.\n            </s.TextDescription>\n            <s.SpacerSmall />\n            {blockchain.account === \"\" ||\n            blockchain.smartContract === null ? (\n              <s.Container ai={\"center\"} jc={\"center\"}>\n                <s.TextDescription\n                  style={{\n                    textAlign: \"center\",\n                    color: \"var(--secondary-text)\",\n                  }}\n                >\n                  Connect to the {CONFIG.NETWORK.NAME} network\n                </s.TextDescription>\n                <s.SpacerSmall />\n                <div id={\"metamask-animation\"}></div>\n                <s.SpacerSmall />\n                <StyledButton\n                  onClick={(e) => {\n                    e.preventDefault();\n                    dispatch(connect());\n                    getData();\n                  }}\n                >\n                  CONNECT\n                </StyledButton>\n                {blockchain.errorMsg !== \"\" ? (\n                  <>\n                    <s.SpacerSmall />\n                    <s.TextDescription\n                      style={{\n                        textAlign: \"center\",\n                        color: \"var(--secondary-text)\",\n                      }}\n                    >\n                      {blockchain.errorMsg}\n                    </s.TextDescription>\n                  </>\n                ) : null}\n              </s.Container>\n            ) : (\n              <>\n                <s.TextDescription\n                  style={{\n                    textAlign: \"center\",\n                    color: \"var(--secondary-text)\",\n                  }}\n                >\n                  {feedback}\n                </s.TextDescription>\n                <s.SpacerMedium />\n                <s.Container ai={\"center\"} jc={\"center\"} fd={\"row\"}>\n                  <StyledRoundButton\n                    style={{ lineHeight: 0.4 }}\n                    disabled={claimingNft ? 1 : 0}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      decrementMintAmount();\n                    }}\n                  >\n                    -\n                  </StyledRoundButton>\n                  <s.SpacerMedium />\n                  <s.TextDescription\n                    style={{\n                      textAlign: \"center\",\n                      color: \"var(--secondary-text)\",\n                    }}\n                  >\n                    {mintAmount}\n                  </s.TextDescription>\n                  <s.SpacerMedium />\n                  <StyledRoundButton\n                    disabled={claimingNft ? 1 : 0}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      incrementMintAmount();\n                    }}\n                  >\n                    +\n                  </StyledRoundButton>\n                </s.Container>\n                <s.SpacerSmall />\n                <s.Container ai={\"center\"} jc={\"center\"} fd={\"row\"}>\n                  <StyledButton\n                    disabled={claimingNft ? 1 : 0}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      claimNFTs();\n                      getData();\n                    }}\n                  >\n                    {claimingNft ? \"BUSY\" : \"BUY\"}\n                  </StyledButton>\n                </s.Container>\n              </>\n            )}\n          </>\n        )}\n        <s.SpacerMedium />\n      </s.Container>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}